<!DOCTYPE html>
<html>
<head>
  <title>JavaScript Background Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    
    h1 {
      margin-bottom: 10px;
    }
    
    p {
      margin-bottom: 5px;
    }
    
    #results {
      margin-top: 20px;
      font-family: monospace;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>JavaScript Background Test</h1>
  <p>Switch to a different app or tab, then come back to this page.</p>
  <p>The results will be displayed below:</p>
  
  <div id="results"></div>

  <script>
    let startTime;
    let elapsedTime;
    let expectedTime;
    let counter = 0;
    
    const resultsDiv = document.getElementById('results');

    function testBackgroundExecution() {
      if (!startTime) {
        startTime = Date.now();
      }

      counter++;
      expectedTime = counter * 100;

      setTimeout(function() {
        elapsedTime = Date.now() - startTime;
        const result = `Elapsed time: ${elapsedTime}ms, Expected time: ${expectedTime}ms`;
        resultsDiv.innerHTML += result + '<br>';
        testBackgroundExecution();
      }, 100);
    }

    testBackgroundExecution();
  </script>
</body>
</html>
